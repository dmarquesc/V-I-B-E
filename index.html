<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>V.I.B.E. DAW - Full Interface</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Face API + app modules -->
  <script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
  <script defer src="vibe.js"></script>
  <script defer src="moodMeter.js"></script>
  <script defer src="audioEngine.js"></script>
  <script defer src="smartMonitor.js"></script>
  <script defer src="sessionManager.js"></script>

  <!-- üî• Advanced Mixer Logic -->
  <script defer src="mixer.js"></script>
</head>
<body>
  <header>
    <h1>üéöÔ∏è V.I.B.E. Digital Audio Workstation</h1>
  </header>

  <!-- üîπ Top Panel: VIBE + Smart Monitor -->
  <div class="row">
    <section id="vibe-section">
      <h3>V.I.B.E. Assistant</h3>
      <div id="vibeOrb" class="orb">üéß</div>
      <select id="morphSelect" onchange="morph()">
        <option value="default">Floating Orb</option>
        <option value="dancer">Dancer</option>
        <option value="notes">Music Notes</option>
        <option value="mic">Microphone</option>
        <option value="grammy">Grammy Trophy</option>
        <option value="face">Face Expression</option>
      </select>
    </section>

    <section id="smart-monitor">
      <h3>Smart Monitor Panel</h3>
      <input type="text" id="youtubeUrl" placeholder="Paste YouTube URL" />
      <button onclick="loadYouTube()">Load Video</button>
      <iframe id="youtubeFrame" width="320" height="180" allowfullscreen></iframe>
      <br />
      <button onclick="startVideoCall()">Start Video</button>
      <video id="localVideo" autoplay muted></video>
      <button onclick="startScreenShare()">Share Screen</button>
      <video id="screenVideo" autoplay muted></video>
    </section>
  </div>

  <!-- üîπ Middle Panel: 8-Track Pro Mixer (SVG-ready) -->
  <section id="mixer" class="mixer-panel">
    <h3>üéõ Mixer Panel</h3>

    <div class="mixer-tracks">

      <!-- ===== Track TEMPLATE =====
           Duplicate this block and change IDs/labels for 8+ tracks
           Required children (per track):
           - .track-bg (optional image/svg)
           - .insert-btn (svg)
           - .knob.send | .knob.gain | .knob.pan (svg)
           - .btn.solo, .btn.mute (svg-enabled)
           - .meter > .meter-fill (animated level)
           - .fader > input[type=range] (vertical)
           - .db-display (text)
           - .track-label (editable)
      -->

      <!-- Track 1 -->
      <div class="track" id="track-1">
        <img src="assets/svg/track-bg.svg" alt="" class="track-bg" />

        <div class="top-row">
          <img src="assets/svg/insert-button.svg" class="insert-btn" alt="Insert" />
          <div class="led" id="led-1"></div>
        </div>

        <div class="knob-row">
          <img src="assets/svg/knob-send.svg" class="knob send" alt="Send" />
          <img src="assets/svg/knob-gain.svg" class="knob gain" alt="Gain" />
          <img src="assets/svg/knob-pan.svg"  class="knob pan"  alt="Pan" />
        </div>

        <div class="button-row">
          <button class="btn solo" id="solo-1" aria-pressed="false">S</button>
          <button class="btn mute" id="mute-1" aria-pressed="false">M</button>
          <img src="assets/svg/button-headphone.svg" class="btn monitor" alt="Monitor" />
        </div>

        <div class="meter-wrap">
          <div class="meter" id="meter-1"><div class="meter-fill"></div></div>
          <div class="db-display" id="db-1">0 dB</div>
        </div>

        <div class="fader">
          <img src="assets/svg/fader-track.svg" class="fader-track" alt="" />
          <input type="range" class="fader-input" id="fader-1" orient="vertical" min="0" max="100" value="70" />
        </div>

        <div class="track-label" contenteditable="true">Kick</div>
      </div>

      <!-- Track 2 -->
      <div class="track" id="track-2">
        <img src="assets/svg/track-bg.svg" alt="" class="track-bg" />
        <div class="top-row">
          <img src="assets/svg/insert-button.svg" class="insert-btn" alt="Insert" />
          <div class="led" id="led-2"></div>
        </div>
        <div class="knob-row">
          <img src="assets/svg/knob-send.svg" class="knob send" alt="Send" />
          <img src="assets/svg/knob-gain.svg" class="knob gain" alt="Gain" />
          <img src="assets/svg/knob-pan.svg"  class="knob pan"  alt="Pan" />
        </div>
        <div class="button-row">
          <button class="btn solo" id="solo-2" aria-pressed="false">S</button>
          <button class="btn mute" id="mute-2" aria-pressed="false">M</button>
          <img src="assets/svg/button-headphone.svg" class="btn monitor" alt="Monitor" />
        </div>
        <div class="meter-wrap">
          <div class="meter" id="meter-2"><div class="meter-fill"></div></div>
          <div class="db-display" id="db-2">0 dB</div>
        </div>
        <div class="fader">
          <img src="assets/svg/fader-track.svg" class="fader-track" alt="" />
          <input type="range" class="fader-input" id="fader-2" orient="vertical" min="0" max="100" value="60" />
        </div>
        <div class="track-label" contenteditable="true">Snare</div>
      </div>

      <!-- Track 3 -->
      <div class="track" id="track-3">
        <img src="assets/svg/track-bg.svg" alt="" class="track-bg" />
        <div class="top-row">
          <img src="assets/svg/insert-button.svg" class="insert-btn" alt="Insert" />
          <div class="led" id="led-3"></div>
        </div>
        <div class="knob-row">
          <img src="assets/svg/knob-send.svg" class="knob send" alt="Send" />
          <img src="assets/svg/knob-gain.svg" class="knob gain" alt="Gain" />
          <img src="assets/svg/knob-pan.svg"  class="knob pan"  alt="Pan" />
        </div>
        <div class="button-row">
          <button class="btn solo" id="solo-3" aria-pressed="false">S</button>
          <button class="btn mute" id="mute-3" aria-pressed="false">M</button>
          <img src="assets/svg/button-headphone.svg" class="btn monitor" alt="Monitor" />
        </div>
        <div class="meter-wrap">
          <div class="meter" id="meter-3"><div class="meter-fill"></div></div>
          <div class="db-display" id="db-3">0 dB</div>
        </div>
        <div class="fader">
          <img src="assets/svg/fader-track.svg" class="fader-track" alt="" />
          <input type="range" class="fader-input" id="fader-3" orient="vertical" min="0" max="100" value="65" />
        </div>
        <div class="track-label" contenteditable="true">Hat</div>
      </div>

      <!-- Track 4 -->
      <div class="track" id="track-4">
        <img src="assets/svg/track-bg.svg" alt="" class="track-bg" />
        <div class="top-row">
          <img src="assets/svg/insert-button.svg" class="insert-btn" alt="Insert" />
          <div class="led" id="led-4"></div>
        </div>
        <div class="knob-row">
          <img src="assets/svg/knob-send.svg" class="knob send" alt="Send" />
          <img src="assets/svg/knob-gain.svg" class="knob gain" alt="Gain" />
          <img src="assets/svg/knob-pan.svg"  class="knob pan"  alt="Pan" />
        </div>
        <div class="button-row">
          <button class="btn solo" id="solo-4" aria-pressed="false">S</button>
          <button class="btn mute" id="mute-4" aria-pressed="false">M</button>
          <img src="assets/svg/button-headphone.svg" class="btn monitor" alt="Monitor" />
        </div>
        <div class="meter-wrap">
          <div class="meter" id="meter-4"><div class="meter-fill"></div></div>
          <div class="db-display" id="db-4">0 dB</div>
        </div>
        <div class="fader">
          <img src="assets/svg/fader-track.svg" class="fader-track" alt="" />
          <input type="range" class="fader-input" id="fader-4" orient="vertical" min="0" max="100" value="55" />
        </div>
        <div class="track-label" contenteditable="true">Bass</div>
      </div>

      <!-- Track 5 -->
      <div class="track" id="track-5">
        <img src="assets/svg/track-bg.svg" alt="" class="track-bg" />
        <div class="top-row">
          <img src="assets/svg/insert-button.svg" class="insert-btn" alt="Insert" />
          <div class="led" id="led-5"></div>
        </div>
        <div class="knob-row">
          <img src="assets/svg/knob-send.svg" class="knob send" alt="Send" />
          <img src="assets/svg/knob-gain.svg" class="knob gain" alt="Gain" />
          <img src="assets/svg/knob-pan.svg"  class="knob pan"  alt="Pan" />
        </div>
        <div class="button-row">
          <button class="btn solo" id="solo-5" aria-pressed="false">S</button>
          <button class="btn mute" id="mute-5" aria-pressed="false">M</button>
          <img src="assets/svg/button-headphone.svg" class="btn monitor" alt="Monitor" />
        </div>
        <div class="meter-wrap">
          <div class="meter" id="meter-5"><div class="meter-fill"></div></div>
          <div class="db-display" id="db-5">0 dB</div>
        </div>
        <div class="fader">
          <img src="assets/svg/fader-track.svg" class="fader-track" alt="" />
          <input type="range" class="fader-input" id="fader-5" orient="vertical" min="0" max="100" value="62" />
        </div>
        <div class="track-label" contenteditable="true">Keys</div>
      </div>

      <!-- Track 6 -->
      <div class="track" id="track-6">
        <img src="assets/svg/track-bg.svg" alt="" class="track-bg" />
        <div class="top-row">
          <img src="assets/svg/insert-button.svg" class="insert-btn" alt="Insert" />
          <div class="led" id="led-6"></div>
        </div>
        <div class="knob-row">
          <img src="assets/svg/knob-send.svg" class="knob send" alt="Send" />
          <img src="assets/svg/knob-gain.svg" class="knob gain" alt="Gain" />
          <img src="assets/svg/knob-pan.svg"  class="knob pan"  alt="Pan" />
        </div>
        <div class="button-row">
          <button class="btn solo" id="solo-6" aria-pressed="false">S</button>
          <button class="btn mute" id="mute-6" aria-pressed="false">M</button>
          <img src="assets/svg/button-headphone.svg" class="btn monitor" alt="Monitor" />
        </div>
        <div class="meter-wrap">
          <div class="meter" id="meter-6"><div class="meter-fill"></div></div>
          <div class="db-display" id="db-6">0 dB</div>
        </div>
        <div class="fader">
          <img src="assets/svg/fader-track.svg" class="fader-track" alt="" />
          <input type="range" class="fader-input" id="fader-6" orient="vertical" min="0" max="100" value="64" />
        </div>
        <div class="track-label" contenteditable="true">Pad</div>
      </div>

      <!-- Track 7 -->
      <div class="track" id="track-7">
        <img src="assets/svg/track-bg.svg" alt="" class="track-bg" />
        <div class="top-row">
          <img src="assets/svg/insert-button.svg" class="insert-btn" alt="Insert" />
          <div class="led" id="led-7"></div>
        </div>
        <div class="knob-row">
          <img src="assets/svg/knob-send.svg" class="knob send" alt="Send" />
          <img src="assets/svg/knob-gain.svg" class="knob gain" alt="Gain" />
          <img src="assets/svg/knob-pan.svg"  class="knob pan"  alt="Pan" />
        </div>
        <div class="button-row">
          <button class="btn solo" id="solo-7" aria-pressed="false">S</button>
          <button class="btn mute" id="mute-7" aria-pressed="false">M</button>
          <img src="assets/svg/button-headphone.svg" class="btn monitor" alt="Monitor" />
        </div>
        <div class="meter-wrap">
          <div class="meter" id="meter-7"><div class="meter-fill"></div></div>
          <div class="db-display" id="db-7">0 dB</div>
        </div>
        <div class="fader">
          <img src="assets/svg/fader-track.svg" class="fader-track" alt="" />
          <input type="range" class="fader-input" id="fader-7" orient="vertical" min="0" max="100" value="58" />
        </div>
        <div class="track-label" contenteditable="true">Vocal</div>
      </div>

      <!-- Track 8 -->
      <div class="track" id="track-8">
        <img src="assets/svg/track-bg.svg" alt="" class="track-bg" />
        <div class="top-row">
          <img src="assets/svg/insert-button.svg" class="insert-btn" alt="Insert" />
          <div class="led" id="led-8"></div>
        </div>
        <div class="knob-row">
          <img src="assets/svg/knob-send.svg" class="knob send" alt="Send" />
          <img src="assets/svg/knob-gain.svg" class="knob gain" alt="Gain" />
          <img src="assets/svg/knob-pan.svg"  class="knob pan"  alt="Pan" />
        </div>
        <div class="button-row">
          <button class="btn solo" id="solo-8" aria-pressed="false">S</button>
          <button class="btn mute" id="mute-8" aria-pressed="false">M</button>
          <img src="assets/svg/button-headphone.svg" class="btn monitor" alt="Monitor" />
        </div>
        <div class="meter-wrap">
          <div class="meter" id="meter-8"><div class="meter-fill"></div></div>
          <div class="db-display" id="db-8">0 dB</div>
        </div>
        <div class="fader">
          <img src="assets/svg/fader-track.svg" class="fader-track" alt="" />
          <input type="range" class="fader-input" id="fader-8" orient="vertical" min="0" max="100" value="52" />
        </div>
        <div class="track-label" contenteditable="true">Guitar</div>
      </div>

    </div>
  </section>

  <!-- üîπ Bottom Panel: Transport -->
  <section id="transport">
    <h3>Transport Controls</h3>
    <canvas id="waveform" width="600" height="100"></canvas>
    <div>
      <button onclick="play()">‚ñ∂Ô∏è Play</button>
      <button onclick="pause()">‚è∏Ô∏è Pause</button>
      <button onclick="stop()">‚èπÔ∏è Stop</button>
    </div>
  </section>
</body>
</html>
